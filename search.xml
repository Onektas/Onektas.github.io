<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>简单使用PowerShell实现Win10自动关机</title>
      <link href="/posts/cef93e60/"/>
      <url>/posts/cef93e60/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><div class="note default simple"><p>之前的学校23点断电，24点断网，那时为了节约流量，就用笔记本电脑共享Wi-Fi。每早需要有人按开关寝室才通电，而笔记本的电池无法撑过一个晚上，于是就有了”每天到点自动关机，关机时可以由我选择是否继续使用”这样的需求，也就有了这篇文章。现在我所在的学校，反而是23点断网，不断电，不过，这篇文章对我而言还是相当实用</p></div><br><h2 id="打开”Powershell-ISE”，输入如下代码并保存脚本"><a href="#打开”Powershell-ISE”，输入如下代码并保存脚本" class="headerlink" title="打开”Powershell ISE”，输入如下代码并保存脚本"></a>打开”Powershell ISE”，输入如下代码并保存脚本</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 结合任务计划程序，在每日0点自动打开此脚本，弹出提示框</span></span><br><span class="line"><span class="comment">## 点击确定-60秒后关机；点击取消-取消关机；不选择-61秒后关机</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 引入选择框</span></span><br><span class="line"><span class="variable">$ws</span> = <span class="built_in">New-Object</span> <span class="literal">-ComObject</span> WScript.Shell  </span><br><span class="line"></span><br><span class="line"><span class="comment">## 创建选择框</span></span><br><span class="line"><span class="comment">## 格式为 $wsr = $ws.popup(&quot;提示内容&quot;,提示框自动关闭时间,&quot;提示框标题&quot;,1+64)</span></span><br><span class="line"><span class="variable">$wsr</span> = <span class="variable">$ws</span>.popup(<span class="string">&quot;是否自动关机？&quot;</span>,<span class="number">60</span>,<span class="string">&quot;提示&quot;</span>,<span class="number">1</span> + <span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 选择语句</span></span><br><span class="line"><span class="comment">## 语义为 1确定-60秒后关机 2取消-取消关机 -1提示框自动关闭后-1秒后关机</span></span><br><span class="line"><span class="keyword">switch</span>(<span class="variable">$wsr</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="number">1</span>&#123;shutdown <span class="literal">-s</span> <span class="literal">-t</span> <span class="number">60</span>&#125;</span><br><span class="line">    <span class="number">2</span>&#123;shutdown <span class="literal">-a</span>&#125;</span><br><span class="line">    <span class="literal">-1</span>&#123;shutdown <span class="literal">-s</span> <span class="literal">-t</span> <span class="number">1</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="打开”任务计划程序”"><a href="#打开”任务计划程序”" class="headerlink" title="打开”任务计划程序”"></a>打开”任务计划程序”</h2><div class="note default simple"><p>1.  右键”任务计划程序库”，选择”创建任务”</p></div><div class="note default simple"><p>2. 常规里：名称”随意”，描述”随意”，勾选”使用最高权限运行”，配置”Windows 10”</p></div><div class="note default simple"><p>3. 触发器里：新建并按需设置，例如我的”每日 在每天的0:00 已启用”</p></div><div class="note default simple"><p>4. 操作里：新建，程序或脚本”powershell”，添加参数”{程序路径}”，例如我的脚本在”C:\用户\10624\自动关机.ps1”，那么我的参数为”\Users\10624\自动关机.ps1”</p></div><div class="note default simple"><p>5. 条件里：按需设置，我取消了所有勾</p></div><div class="note default simple"><p>6. 设置里：按需设置，我保持默认</p></div><br><h2 id="测试，大功告成"><a href="#测试，大功告成" class="headerlink" title="测试，大功告成"></a>测试，大功告成</h2><div class="note default simple"><p>在任务计划程序库”里，右键–运行，测试程序是否正常，大功告成</p></div><p><br><br></p>]]></content>
      
      
      <categories>
          
          <category> Onektas的各种笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> PowerShell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>局域网中高速互传Win与iOS、Win与Win的文件</title>
      <link href="/posts/1d4251e6/"/>
      <url>/posts/1d4251e6/</url>
      
        <content type="html"><![CDATA[<h2 id="Win-Win间互传"><a href="#Win-Win间互传" class="headerlink" title="Win-Win间互传"></a>Win-Win间互传</h2><div class="note default simple"><p>我们将使用Win10的SMB功能进行互传，SMB（ServerMessageBlock）协议是一种局域网文件共享传输协议，最初是IBM的贝瑞·费根鲍姆（Barry Feigenbaum）研制出用于DOS操作系统中的本地文件接口，后来微软对这个发展进行了重大更改</p></div><blockquote><p>此方式利用公网IPv4&#x2F;IPv6可远程互传</p></blockquote><br><h3 id="共享文件"><a href="#共享文件" class="headerlink" title="共享文件"></a>共享文件</h3><div class="note info simple"><p><strong>共享方</strong>选择需要分享的磁盘&#x2F;文件夹，<code>右键--属性--共享--高级共享</code>，勾选<code>共享此文件夹</code></p></div><br><h3 id="启用共享"><a href="#启用共享" class="headerlink" title="启用共享"></a>启用共享</h3><div class="note info simple"><p><strong>共享方</strong>打开<code>控制面板--网络和Internet--网络和共享中心--高级共享设置</code>，打开”专用”和”来宾或公用”中的<code>启用文件和打印机共享</code>，其余按需设置或保持默认</p></div><br><h3 id="添加Everyone账户"><a href="#添加Everyone账户" class="headerlink" title="添加Everyone账户"></a>添加Everyone账户</h3><div class="note info simple"><p>如果<strong>访问方</strong>和<strong>共享方</strong>登入了相同的微软账户，可以跳过这一步<br>如果使用的是本地账户或者不同的微软账户：<strong>共享方</strong>选择需要分享的磁盘&#x2F;文件夹，<code>右键--属性--安全--编辑--添加</code>输入”Everyone”并确定，再按需修改Everyone的权限<br>如果共享的是文件夹，需要额外<code>右键--属性--共享--添加Everyone--按需修改权限</code></p></div><br><h3 id="加入共享"><a href="#加入共享" class="headerlink" title="加入共享"></a>加入共享</h3><div class="note info simple"><p><strong>共享方</strong>打开<code>任务管理器--性能</code>，在<code>以太网</code>或<code>Wi-Fi</code>中找到你的IPv4地址<br><strong>访问方</strong><code>Win+R</code>输入<code>\\IPv4</code>，或者在”我的电脑”上方的地址栏输入，例如<code>\\172.20.10.1</code>，即可访问共享的磁盘&#x2F;文件夹</p></div><div class="note info simple"><p>若需要账户密码，则需要共享方提供微软账户或者本地账户<br>若不想要登入使用，打开<code>控制面板--网络和Internet--网络和共享中心--高级共享设置</code>，在”所有网络”中，选择<code>无密码保护的共享</code></p></div><br><br><h2 id="Win-iOS间互传"><a href="#Win-iOS间互传" class="headerlink" title="Win-iOS间互传"></a>Win-iOS间互传</h2><div class="note default simple"><p>iOS13开始，文件App支持SMB协议，不过我们选择别的方式，只需一根数据线即可高速互传</p></div><blockquote><p>SMB方式利用公网IPv4&#x2F;IPv6可远程互传</p></blockquote><br><h3 id="Xender法"><a href="#Xender法" class="headerlink" title="Xender法"></a>Xender法</h3><div class="note info simple"><p>1. AppStore中下载”Xender”<br>2. 关闭”Wi-Fi”，打开”蜂窝网络”和”个人热点”，连上数据线，你的电脑会自动识别到iPhone有线网络，若识别不到请先断开电脑的网络<br>3. 打开”Xender”按提示操作，此方法不消耗流量，峰值速度在37.5MB&#x2F;S左右</p></div><br><h3 id="爱思助手法"><a href="#爱思助手法" class="headerlink" title="爱思助手法"></a>爱思助手法</h3><div class="note info simple"><p>1. 电脑上下载爱思助手<br>2. 连接爱思助手，在左侧的”应用游戏”(不是上侧)，只要是带”浏览”操作的App，都可以直接导入任意文件到手机，此方法峰值速度在30MB&#x2F;s左右</p></div><br><br>]]></content>
      
      
      <categories>
          
          <category> Onektas的各种笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> iOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>优雅搭建Minecraft服务器</title>
      <link href="/posts/2c3c6d6b/"/>
      <url>/posts/2c3c6d6b/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><div class="note default simple"><p>本文为之前所有Minecraft笔记的集合，仅供参考，内容包含<a href="#%E8%81%94%E6%9C%BA">联机</a>、<a href="#%E5%9C%A8Windows%E4%B8%8A%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8">在Windows上搭建服务器</a>、<a href="#%E5%9C%A8Linux%E4%B8%8A%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8">在Linux上搭建服务器</a>、<a href="#%E5%9C%A8Android%E4%B8%8A%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8">在Android上搭建服务器</a>、<a href="#%E6%95%88%E7%8E%87%E5%8C%96%E6%9C%8D%E5%8A%A1%E5%99%A8">效率化服务器</a>，适用于Java版Minecraft</p></div><br><h2 id="联机"><a href="#联机" class="headerlink" title="联机"></a>联机</h2><div class="note default simple"><p>如果只是希望联机，而不是搭建服务器，可以选择以下两种方式</p></div><h3 id="局域网联机"><a href="#局域网联机" class="headerlink" title="局域网联机"></a>局域网联机</h3><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>1. 连接同一Wi-Fi(或手机热点)，使双方在同一个局域网内<br>2. 开存档方在游戏内打开”对局域网开放”，加入方在”多人游戏”内加入房间</p></div><h3 id="远程联机"><a href="#远程联机" class="headerlink" title="远程联机"></a>远程联机</h3><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>远程联机的方式主要分为三类：<br>1. V*N类：游侠对战平台、自建V*N等<br>2. 内网穿透类：樱花穿透、琉璃frp、nps、zerotier等<br>3. 公网类：IPv4公网、IPv6公网<br>4. 启动器联机类：现在许多启动器提供联机服务</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>1. 游侠对战平台：双方加入同一个游侠房间，使用游侠启动MC，即可达到局域网效果，难度低成功率较高<br>2. 樱花穿透：使用比琉璃frp简单些，将”对局域网开放”的端口映射，加入方使用映射后的IP在”多人游戏”内添加服务器加入，难度中成功率高<br>3. 公网类：IPv4需要路由器桥接光猫激活端口映射，IPv6可直接使用，IPv4难度高成功率较低</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>内网穿透类和公网类碰到的MC端口变化问题，可以打联机类的Mod解决<br>IPv6需要光猫和路由器支持，并在”控制面板-网络和Internet-网络和共享中心-更改适配器设置”中启用IPv6功能<br>IPv4联机格式”IPv4:端口号”；IPv6联机格式”[IPv6]:端口号”<br>192、172开头的IPv4必为内网；fe80开头的IPv6必为内网</p></div><br><h2 id="在Windows上搭建服务器"><a href="#在Windows上搭建服务器" class="headerlink" title="在Windows上搭建服务器"></a>在Windows上搭建服务器</h2><div class="note default simple"><p>个人喜欢使用官方服务端+Forge&#x2F;Fabric</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>下载所需<a href="https://mcversions.net/">服务端</a><br>不同的服务端需要不同的Java版本</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>1. 打开服务端文件，会自动生成一些文件<br>2. 再打开<code>eula.txt</code>，把”false”改成”true”<br>3. 按喜好更改<a href="https://minecraft-zh.gamepedia.com/Server.properties">server.properties</a><br>4. 安装<a href="https://files.minecraftforge.net/net/minecraftforge/forge/">Forge</a>\<a href="https://fabricmc.net/">Fabric</a><br>5. 加入服务器方式参考<a href="#%E8%81%94%E6%9C%BA">联机</a>部分，建议使用内网穿透和公网方案</p></div><br><h2 id="在Linux上搭建服务器"><a href="#在Linux上搭建服务器" class="headerlink" title="在Linux上搭建服务器"></a>在Linux上搭建服务器</h2><div class="note default simple"><p>个人喜欢使用官方服务端+Forge&#x2F;Fabric<br>可以直接将在Windows上搭建好的MC服务器拷贝到Linux里使用</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>推荐工具：Xshell、Xftp<br>推荐系统：CentOS<br>云服务器推荐：阿里云、腾讯云学生优惠</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>下载所需<a href="https://mcversions.net/">服务端</a><br>不同的服务端需要不同的Java版本</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>安装Java(默认版本)</p><ol><li>yum install java -y # RHEL、CentOS</li><li>apt-get install java -y # Debian、Ubuntu</li></ol><p>安装screen，方便将MC服务器挂载至后台</p><ol><li>yum install screen -y  # RHEL、CentOS</li><li>apt-get install screen -y # Debian、Ubuntu</li></ol></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>1. 打开服务器，命令示例：<code>java -Xmx1024M -Xms1024M -jar minecraft_server.1.19.jar nogui</code><br>2. 打开<code>eula.txt</code>，将”false”改成”true”<br>3. 按喜好更改<a href="https://minecraft-zh.gamepedia.com/Server.properties">server.properties</a><br>4. 安装Forge，命令示例：<code>java -jar forge-1.19-installer.jar nogui --installServer</code><br>5. 安装Fabric，命令示例：<code>java -jar fabric.jar nogui</code><br>6. 加入服务器方式参考<a href="#%E8%81%94%E6%9C%BA">联机</a>部分，建议使用内网穿透和公网方案</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p><code>screen -S name</code>，例：<code>screen -S mc</code>，创建一个新screen窗口(注意-S大写)<br>screen窗口内<code>java -Xmx1024M -Xms1024M -jar minecraft_server.1.19.jar nogui</code>打开服务器，再<code>Ctrl+A+D</code>，返回原先窗口<br><code>screen -ls</code>查看已创建的screen窗口<br><code>screen -r ID</code>进入screen窗口<br><code>screen -XS ID quit</code>关闭screen窗口</p></div><br><h2 id="在Android上搭建服务器"><a href="#在Android上搭建服务器" class="headerlink" title="在Android上搭建服务器"></a>在Android上搭建服务器</h2><div class="note default simple"><p>各大应用商店下载Aid Learning(Linux)<br>浏览器中8000端口连接图形界面，8080端口连接文件界面，支持远程连接<br>因为本质是Linux搭建，服务器搭建操作参考<a href="#%E5%9C%A8Linux%E4%B8%8A%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8">在Linux上搭建服务器</a></p></div><br><h2 id="效率化服务器"><a href="#效率化服务器" class="headerlink" title="效率化服务器"></a>效率化服务器</h2><div class="note default simple"><p>云服务器Linux简单使用远程git gui</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>yum install git -y  # 安装Git<br>yum install git-gui -y  # 安装Git GUI<br>yum install xorg-x11-xauth -y  # 安装x11</p></div><br><div class="note default simple"><p>服务器自动备份</p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###### 参考脚本</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开始</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;==========开始Git版本控制MCServer==========&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入服务器目录</span></span><br><span class="line"><span class="built_in">cd</span> /root/MCServer</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断，若无新数据则跳过备份，若有新数据则进行备份</span></span><br><span class="line">clean=`git status`</span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;clean&#125;</span> =~ <span class="string">&#x27;clean&#x27;</span> ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27;服务器未产生新数据&#x27;</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27;==========等待下次自动备份==========&#x27;</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   git add .</span><br><span class="line">   git commit -m Automatic</span><br><span class="line">   git push</span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27;==========已完成自动备份==========&#x27;</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br><div class="note default simple"><p>服务器性能监控</p></div><div class="note icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>使用<a href="https://github.com/lincanbin/Holy-Lance">Holy Lance</a>，本质是个PHP网页，建议用宝塔面板搭建，注意宝塔面板自带防火墙</p></div><p><br><br></p>]]></content>
      
      
      <categories>
          
          <category> Onektas的各种笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
            <tag> Windows </tag>
            
            <tag> Linux </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>优雅从零开始建博客</title>
      <link href="/posts/a3236ad6/"/>
      <url>/posts/a3236ad6/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><div class="note default simple"><p>这一次的博客，简洁实用为主，记录笔记为主，畅所记录，完全从零搭建。我删除了曾经的所有内容，所有旧项目归档保存不再发布，从零打造新博客</p></div><br><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><div class="note default simple"><p>博客搭建全程使用Git进行版本控制</p></div><div class="note default simple"><p>下载安装Git、Node.js</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">新建文件夹作为博客根目录</span><br><span class="line">npm config set registry https://registry.npm.taobao.org // 更换npm源为阿里云镜像源</span><br><span class="line">npm config get registry // 确认源</span><br></pre></td></tr></table></figure><p><br><br></p><h2 id="安装Hexo及基础插件"><a href="#安装Hexo及基础插件" class="headerlink" title="安装Hexo及基础插件"></a>安装Hexo及基础插件</h2><div class="note default simple"><p>博客根目录</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g // 安装Hexo指令集</span><br><span class="line">hexo init // 初始化Hexo</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;&quot; // 设置Git邮箱</span><br><span class="line">git config --global user.name &quot;&quot; // 设置Git用户名</span><br><span class="line"></span><br><span class="line">git init // 初始化Git仓库</span><br><span class="line">git branch -m master main // 更改branch名为main</span><br><span class="line"></span><br><span class="line">npm install hexo-generator-sitemap --save // 安装sitemap生成插件(此插件可在安装主题步骤安装)</span><br><span class="line">npm install hexo-deployer-git --save // 安装git部署插件</span><br><span class="line">npm install // 确保所有插件正常安装</span><br></pre></td></tr></table></figure><p><br><br></p><h2 id="连接GitHub"><a href="#连接GitHub" class="headerlink" title="连接GitHub"></a>连接GitHub</h2><div class="note default simple"><p>博客根目录</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;邮箱&quot; // 创建公钥</span><br><span class="line">less ~/.ssh/id_rsa.pub // 查看公钥</span><br><span class="line"></span><br><span class="line">&quot;Github——头像——Settings——SSH and GPG keys——添加SSH key&quot;</span><br><span class="line"></span><br><span class="line">ssh -T git@github.com // 测试公钥</span><br></pre></td></tr></table></figure><br><div class="note default simple"><p>Hexo配置文件</p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:Onektas/Onektas.github.io.git,main</span></span><br></pre></td></tr></table></figure><br><br><h2 id="安装Butterfly主题"><a href="#安装Butterfly主题" class="headerlink" title="安装Butterfly主题"></a>安装Butterfly主题</h2><div class="note default simple"><p>按喜好配置</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://butterfly.js.org/posts/21cfbf15/</span><br></pre></td></tr></table></figure><br><div class="note default simple"><p>推荐的插件</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo-abbrlink</span><br><span class="line">hexo-filter-nofollow</span><br><span class="line">hexo-generator-sitemap</span><br></pre></td></tr></table></figure><br><br><h2 id="网站美化"><a href="#网站美化" class="headerlink" title="网站美化"></a>网站美化</h2><div class="note default simple"><p>根目录\themes\butterfly\source\css，创建”custom.css”</p></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 滚动条美化 */</span></span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> ::-webkit-scrollbar-track &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">73</span>, <span class="number">177</span>, <span class="number">245</span>, <span class="number">0.2</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> ::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>( <span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">25%</span>, transparent <span class="number">25%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">75%</span>, transparent <span class="number">75%</span>, transparent);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> ::-webkit-scrollbar-corner &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> ::-moz-selection &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 鼠标指针美化 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/default.cur</span>), default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/pointer.cur</span>), default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 弹窗description */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span>&gt;<span class="selector-class">.recent-post-info</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: inherit;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">780px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">3%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-title);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">73</span>, <span class="number">177</span>, <span class="number">245</span>, <span class="number">0.8</span>);</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: .<span class="number">7rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span>&gt;<span class="selector-class">.recent-post-info</span>&gt;<span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><div class="note default simple"><p>Butterfly配置文件</p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><br><br><h2 id="全网独家的一图流"><a href="#全网独家的一图流" class="headerlink" title="全网独家的一图流"></a>全网独家的一图流</h2><div class="note default simple"><p>Butterfly配置文件</p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_top_img:</span> <span class="string">&#x27;#00000000&#x27;</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><br><div class="note default simple"><p>custom.css，文章Front-matter需添加<code>top_img: &#39;#00000000&#39;</code></p></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 一图流附属样式 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.not-top-img</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#00000000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#00000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><br></p><h2 id="GitHub-Action"><a href="#GitHub-Action" class="headerlink" title="GitHub Action"></a>GitHub Action</h2><div class="note default simple"><p>根目录\.github\workflows，创建”任意名字.yml”</p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">自动部署</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">检查分支</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">ref:</span> <span class="string">main</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Node</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">&quot;12.x&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        export TZ=&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"><span class="string">        npm install hexo-cli -g</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">缓存</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/cache@v1</span></span><br><span class="line">      <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">        <span class="attr">key:</span> <span class="string">$&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装依赖</span></span><br><span class="line">      <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        npm install --save</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成静态文件</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        hexo clean</span></span><br><span class="line"><span class="string">        hexo generate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        git config --global user.name &quot;Onektas&quot;</span></span><br><span class="line"><span class="string">        git config --global user.email &quot;xxx@qq.com&quot;</span></span><br><span class="line"><span class="string">        git clone https://github.com/Onektas/Onektas.github.io.git .deploy_git</span></span><br><span class="line"><span class="string">        hexo deploy</span></span><br></pre></td></tr></table></figure><br><div class="note default simple"><p>创建token，”Github——头像——Settings——Developer settings——Personal access tokens”名字任意，时间无限，权限勾选<code>repo</code></p></div><br><div class="note default simple"><p>Hexo配置文件</p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">    <span class="attr">github:</span> <span class="string">https://Onektas:&#123;&#123;token&#125;&#125;@github.com/Onektas/Onektas.github.io.git,main</span> <span class="string">//</span> <span class="string">花括号去掉</span></span><br></pre></td></tr></table></figure><br><br><h2 id="Vercel加速"><a href="#Vercel加速" class="headerlink" title="Vercel加速"></a>Vercel加速</h2><div class="note default simple"><p>注册Vercel，加速项目，更换域名，记得更改GitHub的项目页面右侧About的链接；根目录\source，创建”CNAME”</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onektas.top</span><br></pre></td></tr></table></figure><br><div class="note default simple"><p>根目录\source，创建”robots.txt”</p></div><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Disallow:</span><br><span class="line"></span><br><span class="line">Sitemap: https://onektas.top/sitemap.xml</span><br></pre></td></tr></table></figure><p><br><br></p><h2 id="图床"><a href="#图床" class="headerlink" title="图床"></a>图床</h2><div class="note default simple"><p><a href="https://github.com/Onektas/ImageHost">https://github.com/Onektas/ImageHost</a> ，使用Vercel加速，胜在图片链接可控</p></div><br><h2 id="博客恢复"><a href="#博客恢复" class="headerlink" title="博客恢复"></a>博客恢复</h2><div class="note default simple"><p>安装Git、Node.js</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">视情况可省略步骤</span></span><br><span class="line"></span><br><span class="line">新建文件夹作为博客根目录</span><br><span class="line">npm config set registry https://registry.npm.taobao.org // 更换npm源为阿里云镜像源</span><br><span class="line">npm config get registry // 确认源</span><br><span class="line"></span><br><span class="line">npm install hexo-cli -g // 安装Hexo指令集</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;&quot; // 设置Git邮箱</span><br><span class="line">git config --global user.name &quot;&quot; // 设置Git用户名</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C &quot;邮箱&quot; // 创建公钥</span><br><span class="line">less ~/.ssh/id_rsa.pub // 查看公钥</span><br><span class="line">&quot;Github——头像——Settings——SSH and GPG keys——添加SSH key&quot;</span><br><span class="line">ssh -T git@github.com // 测试公钥</span><br><span class="line"></span><br><span class="line">git clone https://github.com/Onektas/BlogSource // 拉取博客源码</span><br><span class="line"></span><br><span class="line">npm install // 安装插件</span><br></pre></td></tr></table></figure><p><br><br></p>]]></content>
      
      
      <categories>
          
          <category> Onektas的各种笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
